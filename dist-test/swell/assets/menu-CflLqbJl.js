import{i as e,n as t,o as n,s as r,t as i}from"./core-oPxbWvCg.js";import{a,s as o}from"./dpi-CaP9ef2h.js";var s,c;function l(e){if(`items`in e)e.items=e.items?.map(e=>`rid`in e?e:l(e));else if(`action`in e&&e.action){let t=new i;return t.onmessage=e.action,delete e.action,{...e,handler:t}}return e}async function u(t,n){let r=new i;if(n&&typeof n==`object`&&(`action`in n&&n.action&&(r.onmessage=n.action,delete n.action),`item`in n&&n.item&&typeof n.item==`object`&&`About`in n.item&&n.item.About&&typeof n.item.About==`object`&&`icon`in n.item.About&&n.item.About.icon&&(n.item.About.icon=o(n.item.About.icon)),`icon`in n&&n.icon&&(n.icon=o(n.icon)),`items`in n&&n.items)){function e(t){return`rid`in t?[t.rid,t.kind]:(`item`in t&&typeof t.item==`object`&&t.item.About?.icon&&(t.item.About.icon=o(t.item.About.icon)),`icon`in t&&t.icon&&(t.icon=o(t.icon)),`items`in t&&t.items&&(t.items=t.items.map(e)),l(t))}n.items=n.items.map(e)}return e(`plugin:menu|new`,{kind:t,options:n,handler:r})}var d=class extends t{get id(){return n(this,s,`f`)}get kind(){return n(this,c,`f`)}constructor(e,t,n){super(e),s.set(this,void 0),c.set(this,void 0),r(this,s,t,`f`),r(this,c,n,`f`)}};s=new WeakMap,c=new WeakMap;var f=class t extends d{constructor(e,t){super(e,t,`MenuItem`)}static async new(e){return u(`MenuItem`,e).then(([e,n])=>new t(e,n))}async text(){return e(`plugin:menu|text`,{rid:this.rid,kind:this.kind})}async setText(t){return e(`plugin:menu|set_text`,{rid:this.rid,kind:this.kind,text:t})}async isEnabled(){return e(`plugin:menu|is_enabled`,{rid:this.rid,kind:this.kind})}async setEnabled(t){return e(`plugin:menu|set_enabled`,{rid:this.rid,kind:this.kind,enabled:t})}async setAccelerator(t){return e(`plugin:menu|set_accelerator`,{rid:this.rid,kind:this.kind,accelerator:t})}},p=class t extends d{constructor(e,t){super(e,t,`Check`)}static async new(e){return u(`Check`,e).then(([e,n])=>new t(e,n))}async text(){return e(`plugin:menu|text`,{rid:this.rid,kind:this.kind})}async setText(t){return e(`plugin:menu|set_text`,{rid:this.rid,kind:this.kind,text:t})}async isEnabled(){return e(`plugin:menu|is_enabled`,{rid:this.rid,kind:this.kind})}async setEnabled(t){return e(`plugin:menu|set_enabled`,{rid:this.rid,kind:this.kind,enabled:t})}async setAccelerator(t){return e(`plugin:menu|set_accelerator`,{rid:this.rid,kind:this.kind,accelerator:t})}async isChecked(){return e(`plugin:menu|is_checked`,{rid:this.rid})}async setChecked(t){return e(`plugin:menu|set_checked`,{rid:this.rid,checked:t})}},m;(function(e){e.Add=`Add`,e.Advanced=`Advanced`,e.Bluetooth=`Bluetooth`,e.Bookmarks=`Bookmarks`,e.Caution=`Caution`,e.ColorPanel=`ColorPanel`,e.ColumnView=`ColumnView`,e.Computer=`Computer`,e.EnterFullScreen=`EnterFullScreen`,e.Everyone=`Everyone`,e.ExitFullScreen=`ExitFullScreen`,e.FlowView=`FlowView`,e.Folder=`Folder`,e.FolderBurnable=`FolderBurnable`,e.FolderSmart=`FolderSmart`,e.FollowLinkFreestanding=`FollowLinkFreestanding`,e.FontPanel=`FontPanel`,e.GoLeft=`GoLeft`,e.GoRight=`GoRight`,e.Home=`Home`,e.IChatTheater=`IChatTheater`,e.IconView=`IconView`,e.Info=`Info`,e.InvalidDataFreestanding=`InvalidDataFreestanding`,e.LeftFacingTriangle=`LeftFacingTriangle`,e.ListView=`ListView`,e.LockLocked=`LockLocked`,e.LockUnlocked=`LockUnlocked`,e.MenuMixedState=`MenuMixedState`,e.MenuOnState=`MenuOnState`,e.MobileMe=`MobileMe`,e.MultipleDocuments=`MultipleDocuments`,e.Network=`Network`,e.Path=`Path`,e.PreferencesGeneral=`PreferencesGeneral`,e.QuickLook=`QuickLook`,e.RefreshFreestanding=`RefreshFreestanding`,e.Refresh=`Refresh`,e.Remove=`Remove`,e.RevealFreestanding=`RevealFreestanding`,e.RightFacingTriangle=`RightFacingTriangle`,e.Share=`Share`,e.Slideshow=`Slideshow`,e.SmartBadge=`SmartBadge`,e.StatusAvailable=`StatusAvailable`,e.StatusNone=`StatusNone`,e.StatusPartiallyAvailable=`StatusPartiallyAvailable`,e.StatusUnavailable=`StatusUnavailable`,e.StopProgressFreestanding=`StopProgressFreestanding`,e.StopProgress=`StopProgress`,e.TrashEmpty=`TrashEmpty`,e.TrashFull=`TrashFull`,e.User=`User`,e.UserAccounts=`UserAccounts`,e.UserGroup=`UserGroup`,e.UserGuest=`UserGuest`})(m||={});var h=class t extends d{constructor(e,t){super(e,t,`Icon`)}static async new(e){return u(`Icon`,e).then(([e,n])=>new t(e,n))}async text(){return e(`plugin:menu|text`,{rid:this.rid,kind:this.kind})}async setText(t){return e(`plugin:menu|set_text`,{rid:this.rid,kind:this.kind,text:t})}async isEnabled(){return e(`plugin:menu|is_enabled`,{rid:this.rid,kind:this.kind})}async setEnabled(t){return e(`plugin:menu|set_enabled`,{rid:this.rid,kind:this.kind,enabled:t})}async setAccelerator(t){return e(`plugin:menu|set_accelerator`,{rid:this.rid,kind:this.kind,accelerator:t})}async setIcon(t){return e(`plugin:menu|set_icon`,{rid:this.rid,kind:this.kind,icon:o(t)})}},g=class t extends d{constructor(e,t){super(e,t,`Predefined`)}static async new(e){return u(`Predefined`,e).then(([e,n])=>new t(e,n))}async text(){return e(`plugin:menu|text`,{rid:this.rid,kind:this.kind})}async setText(t){return e(`plugin:menu|set_text`,{rid:this.rid,kind:this.kind,text:t})}};function _([e,t,n]){switch(n){case`Submenu`:return new v(e,t);case`Predefined`:return new g(e,t);case`Check`:return new p(e,t);case`Icon`:return new h(e,t);case`MenuItem`:default:return new f(e,t)}}var v=class t extends d{constructor(e,t){super(e,t,`Submenu`)}static async new(e){return u(`Submenu`,e).then(([e,n])=>new t(e,n))}async text(){return e(`plugin:menu|text`,{rid:this.rid,kind:this.kind})}async setText(t){return e(`plugin:menu|set_text`,{rid:this.rid,kind:this.kind,text:t})}async isEnabled(){return e(`plugin:menu|is_enabled`,{rid:this.rid,kind:this.kind})}async setEnabled(t){return e(`plugin:menu|set_enabled`,{rid:this.rid,kind:this.kind,enabled:t})}async append(t){return e(`plugin:menu|append`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e)})}async prepend(t){return e(`plugin:menu|prepend`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e)})}async insert(t,n){return e(`plugin:menu|insert`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e),position:n})}async remove(t){return e(`plugin:menu|remove`,{rid:this.rid,kind:this.kind,item:[t.rid,t.kind]})}async removeAt(t){return e(`plugin:menu|remove_at`,{rid:this.rid,kind:this.kind,position:t}).then(_)}async items(){return e(`plugin:menu|items`,{rid:this.rid,kind:this.kind}).then(e=>e.map(_))}async get(t){return e(`plugin:menu|get`,{rid:this.rid,kind:this.kind,id:t}).then(e=>e?_(e):null)}async popup(t,n){return e(`plugin:menu|popup`,{rid:this.rid,kind:this.kind,window:n?.label??null,at:t instanceof a?t:t?new a(t):null})}async setAsWindowsMenuForNSApp(){return e(`plugin:menu|set_as_windows_menu_for_nsapp`,{rid:this.rid})}async setAsHelpMenuForNSApp(){return e(`plugin:menu|set_as_help_menu_for_nsapp`,{rid:this.rid})}async setIcon(t){return e(`plugin:menu|set_icon`,{rid:this.rid,kind:this.kind,icon:o(t)})}},y=class t extends d{constructor(e,t){super(e,t,`Menu`)}static async new(e){return u(`Menu`,e).then(([e,n])=>new t(e,n))}static async default(){return e(`plugin:menu|create_default`).then(([e,n])=>new t(e,n))}async append(t){return e(`plugin:menu|append`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e)})}async prepend(t){return e(`plugin:menu|prepend`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e)})}async insert(t,n){return e(`plugin:menu|insert`,{rid:this.rid,kind:this.kind,items:(Array.isArray(t)?t:[t]).map(e=>`rid`in e?[e.rid,e.kind]:e),position:n})}async remove(t){return e(`plugin:menu|remove`,{rid:this.rid,kind:this.kind,item:[t.rid,t.kind]})}async removeAt(t){return e(`plugin:menu|remove_at`,{rid:this.rid,kind:this.kind,position:t}).then(_)}async items(){return e(`plugin:menu|items`,{rid:this.rid,kind:this.kind}).then(e=>e.map(_))}async get(t){return e(`plugin:menu|get`,{rid:this.rid,kind:this.kind,id:t}).then(e=>e?_(e):null)}async popup(t,n){return e(`plugin:menu|popup`,{rid:this.rid,kind:this.kind,window:n?.label??null,at:t instanceof a?t:t?new a(t):null})}async setAsAppMenu(){return e(`plugin:menu|set_as_app_menu`,{rid:this.rid}).then(e=>e?new t(e[0],e[1]):null)}async setAsWindowMenu(n){return e(`plugin:menu|set_as_window_menu`,{rid:this.rid,window:n?.label??null}).then(e=>e?new t(e[0],e[1]):null)}};export{y as Menu,f as MenuItem,g as PredefinedMenuItem,v as Submenu};