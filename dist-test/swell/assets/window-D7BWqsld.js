import{a as e,i as t}from"./core-oPxbWvCg.js";import{a as n,i as r,n as i,o as a,r as o,s,t as c}from"./dpi-CaP9ef2h.js";var l;(function(e){e.WINDOW_RESIZED=`tauri://resize`,e.WINDOW_MOVED=`tauri://move`,e.WINDOW_CLOSE_REQUESTED=`tauri://close-requested`,e.WINDOW_DESTROYED=`tauri://destroyed`,e.WINDOW_FOCUS=`tauri://focus`,e.WINDOW_BLUR=`tauri://blur`,e.WINDOW_SCALE_FACTOR_CHANGED=`tauri://scale-change`,e.WINDOW_THEME_CHANGED=`tauri://theme-changed`,e.WINDOW_CREATED=`tauri://window-created`,e.WEBVIEW_CREATED=`tauri://webview-created`,e.DRAG_ENTER=`tauri://drag-enter`,e.DRAG_OVER=`tauri://drag-over`,e.DRAG_DROP=`tauri://drag-drop`,e.DRAG_LEAVE=`tauri://drag-leave`})(l||={});async function u(e,n){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,n),await t(`plugin:event|unlisten`,{event:e,eventId:n})}async function d(n,r,i){return t(`plugin:event|listen`,{event:n,target:typeof i?.target==`string`?{kind:`AnyLabel`,label:i.target}:i?.target??{kind:`Any`},handler:e(r)}).then(e=>async()=>u(n,e))}async function f(e,t,n){return d(e,n=>{u(e,n.id),t(n)},n)}async function p(e,n){await t(`plugin:event|emit`,{event:e,payload:n})}async function m(e,n,r){await t(`plugin:event|emit_to`,{target:typeof e==`string`?{kind:`AnyLabel`,label:e}:e,event:n,payload:r})}var h;(function(e){e[e.Critical=1]=`Critical`,e[e.Informational=2]=`Informational`})(h||={});var g=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},_;(function(e){e.None=`none`,e.Normal=`normal`,e.Indeterminate=`indeterminate`,e.Paused=`paused`,e.Error=`error`})(_||={});function v(){return new x(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function y(){return t(`plugin:window|get_all_windows`).then(e=>e.map(e=>new x(e,{skip:!0})))}var b=[`tauri://created`,`tauri://error`],x=class{constructor(e,n={}){this.label=e,this.listeners=Object.create(null),n?.skip||t(`plugin:window|create`,{options:{...n,parent:typeof n.parent==`string`?n.parent:n.parent?.label,label:e}}).then(async()=>this.emit(`tauri://created`)).catch(async e=>this.emit(`tauri://error`,e))}static async getByLabel(e){return(await y()).find(t=>t.label===e)??null}static getCurrent(){return v()}static async getAll(){return y()}static async getFocusedWindow(){for(let e of await y())if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{let n=this.listeners[e];n.splice(n.indexOf(t),1)}:d(e,t,{target:{kind:`Window`,label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{let n=this.listeners[e];n.splice(n.indexOf(t),1)}:f(e,t,{target:{kind:`Window`,label:this.label}})}async emit(e,t){if(b.includes(e)){for(let n of this.listeners[e]||[])n({event:e,id:-1,payload:t});return}return p(e,t)}async emitTo(e,t,n){if(b.includes(t)){for(let e of this.listeners[t]||[])e({event:t,id:-1,payload:n});return}return m(e,t,n)}_handleTauriEvent(e,t){return b.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async scaleFactor(){return t(`plugin:window|scale_factor`,{label:this.label})}async innerPosition(){return t(`plugin:window|inner_position`,{label:this.label}).then(e=>new o(e))}async outerPosition(){return t(`plugin:window|outer_position`,{label:this.label}).then(e=>new o(e))}async innerSize(){return t(`plugin:window|inner_size`,{label:this.label}).then(e=>new r(e))}async outerSize(){return t(`plugin:window|outer_size`,{label:this.label}).then(e=>new r(e))}async isFullscreen(){return t(`plugin:window|is_fullscreen`,{label:this.label})}async isMinimized(){return t(`plugin:window|is_minimized`,{label:this.label})}async isMaximized(){return t(`plugin:window|is_maximized`,{label:this.label})}async isFocused(){return t(`plugin:window|is_focused`,{label:this.label})}async isDecorated(){return t(`plugin:window|is_decorated`,{label:this.label})}async isResizable(){return t(`plugin:window|is_resizable`,{label:this.label})}async isMaximizable(){return t(`plugin:window|is_maximizable`,{label:this.label})}async isMinimizable(){return t(`plugin:window|is_minimizable`,{label:this.label})}async isClosable(){return t(`plugin:window|is_closable`,{label:this.label})}async isVisible(){return t(`plugin:window|is_visible`,{label:this.label})}async title(){return t(`plugin:window|title`,{label:this.label})}async theme(){return t(`plugin:window|theme`,{label:this.label})}async isAlwaysOnTop(){return t(`plugin:window|is_always_on_top`,{label:this.label})}async center(){return t(`plugin:window|center`,{label:this.label})}async requestUserAttention(e){let n=null;return e&&(n=e===h.Critical?{type:`Critical`}:{type:`Informational`}),t(`plugin:window|request_user_attention`,{label:this.label,value:n})}async setResizable(e){return t(`plugin:window|set_resizable`,{label:this.label,value:e})}async setEnabled(e){return t(`plugin:window|set_enabled`,{label:this.label,value:e})}async isEnabled(){return t(`plugin:window|is_enabled`,{label:this.label})}async setMaximizable(e){return t(`plugin:window|set_maximizable`,{label:this.label,value:e})}async setMinimizable(e){return t(`plugin:window|set_minimizable`,{label:this.label,value:e})}async setClosable(e){return t(`plugin:window|set_closable`,{label:this.label,value:e})}async setTitle(e){return t(`plugin:window|set_title`,{label:this.label,value:e})}async maximize(){return t(`plugin:window|maximize`,{label:this.label})}async unmaximize(){return t(`plugin:window|unmaximize`,{label:this.label})}async toggleMaximize(){return t(`plugin:window|toggle_maximize`,{label:this.label})}async minimize(){return t(`plugin:window|minimize`,{label:this.label})}async unminimize(){return t(`plugin:window|unminimize`,{label:this.label})}async show(){return t(`plugin:window|show`,{label:this.label})}async hide(){return t(`plugin:window|hide`,{label:this.label})}async close(){return t(`plugin:window|close`,{label:this.label})}async destroy(){return t(`plugin:window|destroy`,{label:this.label})}async setDecorations(e){return t(`plugin:window|set_decorations`,{label:this.label,value:e})}async setShadow(e){return t(`plugin:window|set_shadow`,{label:this.label,value:e})}async setEffects(e){return t(`plugin:window|set_effects`,{label:this.label,value:e})}async clearEffects(){return t(`plugin:window|set_effects`,{label:this.label,value:null})}async setAlwaysOnTop(e){return t(`plugin:window|set_always_on_top`,{label:this.label,value:e})}async setAlwaysOnBottom(e){return t(`plugin:window|set_always_on_bottom`,{label:this.label,value:e})}async setContentProtected(e){return t(`plugin:window|set_content_protected`,{label:this.label,value:e})}async setSize(e){return t(`plugin:window|set_size`,{label:this.label,value:e instanceof a?e:new a(e)})}async setMinSize(e){return t(`plugin:window|set_min_size`,{label:this.label,value:e instanceof a?e:e?new a(e):null})}async setMaxSize(e){return t(`plugin:window|set_max_size`,{label:this.label,value:e instanceof a?e:e?new a(e):null})}async setSizeConstraints(e){function n(e){return e?{Logical:e}:null}return t(`plugin:window|set_size_constraints`,{label:this.label,value:{minWidth:n(e?.minWidth),minHeight:n(e?.minHeight),maxWidth:n(e?.maxWidth),maxHeight:n(e?.maxHeight)}})}async setPosition(e){return t(`plugin:window|set_position`,{label:this.label,value:e instanceof n?e:new n(e)})}async setFullscreen(e){return t(`plugin:window|set_fullscreen`,{label:this.label,value:e})}async setSimpleFullscreen(e){return t(`plugin:window|set_simple_fullscreen`,{label:this.label,value:e})}async setFocus(){return t(`plugin:window|set_focus`,{label:this.label})}async setFocusable(e){return t(`plugin:window|set_focusable`,{label:this.label,value:e})}async setIcon(e){return t(`plugin:window|set_icon`,{label:this.label,value:s(e)})}async setSkipTaskbar(e){return t(`plugin:window|set_skip_taskbar`,{label:this.label,value:e})}async setCursorGrab(e){return t(`plugin:window|set_cursor_grab`,{label:this.label,value:e})}async setCursorVisible(e){return t(`plugin:window|set_cursor_visible`,{label:this.label,value:e})}async setCursorIcon(e){return t(`plugin:window|set_cursor_icon`,{label:this.label,value:e})}async setBackgroundColor(e){return t(`plugin:window|set_background_color`,{color:e})}async setCursorPosition(e){return t(`plugin:window|set_cursor_position`,{label:this.label,value:e instanceof n?e:new n(e)})}async setIgnoreCursorEvents(e){return t(`plugin:window|set_ignore_cursor_events`,{label:this.label,value:e})}async startDragging(){return t(`plugin:window|start_dragging`,{label:this.label})}async startResizeDragging(e){return t(`plugin:window|start_resize_dragging`,{label:this.label,value:e})}async setBadgeCount(e){return t(`plugin:window|set_badge_count`,{label:this.label,value:e})}async setBadgeLabel(e){return t(`plugin:window|set_badge_label`,{label:this.label,value:e})}async setOverlayIcon(e){return t(`plugin:window|set_overlay_icon`,{label:this.label,value:e?s(e):void 0})}async setProgressBar(e){return t(`plugin:window|set_progress_bar`,{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return t(`plugin:window|set_visible_on_all_workspaces`,{label:this.label,value:e})}async setTitleBarStyle(e){return t(`plugin:window|set_title_bar_style`,{label:this.label,value:e})}async setTheme(e){return t(`plugin:window|set_theme`,{label:this.label,value:e})}async onResized(e){return this.listen(l.WINDOW_RESIZED,t=>{t.payload=new r(t.payload),e(t)})}async onMoved(e){return this.listen(l.WINDOW_MOVED,t=>{t.payload=new o(t.payload),e(t)})}async onCloseRequested(e){return this.listen(l.WINDOW_CLOSE_REQUESTED,async t=>{let n=new g(t);await e(n),n.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){let t=await this.listen(l.DRAG_ENTER,t=>{e({...t,payload:{type:`enter`,paths:t.payload.paths,position:new o(t.payload.position)}})}),n=await this.listen(l.DRAG_OVER,t=>{e({...t,payload:{type:`over`,position:new o(t.payload.position)}})}),r=await this.listen(l.DRAG_DROP,t=>{e({...t,payload:{type:`drop`,paths:t.payload.paths,position:new o(t.payload.position)}})}),i=await this.listen(l.DRAG_LEAVE,t=>{e({...t,payload:{type:`leave`}})});return()=>{t(),r(),n(),i()}}async onFocusChanged(e){let t=await this.listen(l.WINDOW_FOCUS,t=>{e({...t,payload:!0})}),n=await this.listen(l.WINDOW_BLUR,t=>{e({...t,payload:!1})});return()=>{t(),n()}}async onScaleChanged(e){return this.listen(l.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(l.WINDOW_THEME_CHANGED,e)}},S;(function(e){e.Disabled=`disabled`,e.Throttle=`throttle`,e.Suspend=`suspend`})(S||={});var C;(function(e){e.Default=`default`,e.FluentOverlay=`fluentOverlay`})(C||={});var w;(function(e){e.AppearanceBased=`appearanceBased`,e.Light=`light`,e.Dark=`dark`,e.MediumLight=`mediumLight`,e.UltraDark=`ultraDark`,e.Titlebar=`titlebar`,e.Selection=`selection`,e.Menu=`menu`,e.Popover=`popover`,e.Sidebar=`sidebar`,e.HeaderView=`headerView`,e.Sheet=`sheet`,e.WindowBackground=`windowBackground`,e.HudWindow=`hudWindow`,e.FullScreenUI=`fullScreenUI`,e.Tooltip=`tooltip`,e.ContentBackground=`contentBackground`,e.UnderWindowBackground=`underWindowBackground`,e.UnderPageBackground=`underPageBackground`,e.Mica=`mica`,e.Blur=`blur`,e.Acrylic=`acrylic`,e.Tabbed=`tabbed`,e.TabbedDark=`tabbedDark`,e.TabbedLight=`tabbedLight`})(w||={});var T;(function(e){e.FollowsWindowActiveState=`followsWindowActiveState`,e.Active=`active`,e.Inactive=`inactive`})(T||={});export{v as getCurrentWindow};